<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>도서 상세 정보 및 등록</title>
</head>
<body>
<h1>도서 상세 정보</h1>

<div th:object="${bookDetail}">
  <!-- 책 제목 -->
  <p><strong>책 제목:</strong>
    <span th:text="*{title != null ? title : '정보 없음'}">제목</span>
  </p>

  <!-- 저자 -->
  <p><strong>저자:</strong>
    <span th:text="*{author != null ? author : '정보 없음'}">저자</span>
  </p>

  <!-- 출판사 -->
  <p><strong>출판사:</strong>
    <span th:text="*{publisher != null ? publisher : '정보 없음'}">출판사</span>
  </p>

  <!-- ISBN -->
  <p><strong>ISBN:</strong>
    <span th:text="*{isbn13 != null ? isbn13 : '정보 없음'}">ISBN</span>
  </p>

  <!-- 페이지 수 -->
  <p><strong>페이지 수:</strong>
    <span th:text="*{bookinfo  != null ? bookinfo.itemPage : '정보 없음'}">페이지</span>
  </p>

  <!-- 장르 -->
  <p><strong>장르:</strong>
    <span th:text="*{categoryId != null ? categoryId : '정보 없음'}">장르</span>
  </p>

  <!-- 책 표지 -->
  <div>
    <img th:if="*{cover != null}" th:src="*{cover}" alt="책 표지" style="width: 150px; height: auto;">
    <span th:if="*{cover == null}">표지 이미지 없음</span>
  </div>

  <hr>

  <!-- 도서 등록 버튼 -->
  <form th:action="@{/book/register}" method="post">
    <input type="hidden" name="isbn" th:value="*{isbn13}" />
    <button type="submit">도서 등록 (대출 가능 상태로 Books에 저장)</button>
  </form>
</div>

<a href="/book/search">검색 페이지로 돌아가기</a>
</body>
</html>